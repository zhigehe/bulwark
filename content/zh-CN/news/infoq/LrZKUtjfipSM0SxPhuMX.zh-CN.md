---
title: "Kubernetes 云遣返为数据平台提供商节省了数百万美元"
date: "2025-02-14 06:00:00"
summary: "Yellowbrick 是一家 SQL 数据平台提供商，其通过将工作负载从公有云转移回自己基于 Ku..."
categories:
  - "infoq"
lang:
  - "zh-CN"
translations:
  - "zh-CN"
tags:
  - "infoq"
menu: ""
thumbnail: "https://static001.infoq.cn/resource/image/52/c7/521e00219071d28390yydd66c4e15ac7.jpg"
lead: ""
comments: false
authorbox: false
pager: true
toc: false
mathjax: false
sidebar: "right"
widgets:
  - "search"
  - "recent"
  - "taglist"
---

Yellowbrick 是一家 SQL 数据平台提供商，其通过将工作负载从公有云转移回自己基于 Kubernetes 的私有基础设施上，大大降低了成本。该公司报告称，通过将其开发和测试环境从 AWS、Azure 和谷歌云平台上转移出来，每年可节省 390 万美元。

根据 Yellowbrick 的 Neil Carson 所说，该公司在 2022 年开始进行数据迁移项目时，每年在三大云提供商上的支出约为 600 万美元。Yellowbrick 使用之前在公司内部用于其他用途的硬件构建了新的私有云。该公司通过传统方式销售用于运行其数据库产品的设备，并意识到当客户升级并归还旧服务器时，它可以重复使用这些设备。

名为 EC3（Emerald City）的私有云解决方案使用了两种类型的机架：计算机架和对象存储机架。该系统采用 MinIO 进行对象存储，采用 LINSTOR 进行持久块存储，运行在利用 InfiniBand 网络的复杂网络设置上。

目前的 EC3 部署由客户返还的 200 多台服务器组成，提供超过 8000 核 CPU 和大约 2 PB 的对象存储。主要的持续成本是每月 50000 美元在犹他州托管的设施费用。相比之下，Carson 估计，在 AWS 上使用同等的容量，他们每月的成本约为 37.5 万美元。

![]()https://static001.geekbang.org/wechat/images/6c/6c2f32a2fc5efeb62aeded112dff5b3c.png![]()

这种转型并非没有挑战。最初的实施需要十分专注，相当于两名全职工程师工作了六个月的时间。然而，现在云已经上线，持续的管理需要一些开发人员每周花几个小时进行维护。该公司报告称，大约每隔几周就会发生一次常规硬件故障，因此他们计划实施自动问题检测系统。

虽然 Yellowbrick 的情况有些不同寻常，因为它几乎可以以零成本获得已偿还的硬件，但 Carson 表示，白手起家的公司仍然可以节省大量资金。他估计，新设备的初始资本支出约为 165 万美元，其中 130 万美元用于计算，8 万美元用于交换机和电缆，27 万美元用于 SSD 存储。

EC3 的成功影响了 Yellowbrick 的产品开发。他们的第三代设备代号为 Griffin，将由红帽公司的 OpenShift 提供支持，并吸取构建私有云基础设施的经验教训。该公司的经验表明，Kubernetes 已经成为基础设施领域的游戏规则改变者。正如 Carson 所解释的那样，“过去需要公有云才能实现的所有弹性、向上 / 向下扩缩和灵活性，现在也可以在我们拥有的设备上实现。”

Carson 承认，在科技行业，倡导本地解决方案仍然存在争议。他写道：“当我听到其他人试图分享这些观点时，他们被指责撒谎、没有指出隐藏的成本、落后等等。”。然而，他坚持认为，对于计算密集型工作负载来说，遣返的经济效益是显而易见的。

随着 David Heinemeier Hansson 的 HEY 和 Basecamp 基础设施于 2022 年从云上撤出，这一举措引起了全世界的关注，这表明，一致且无尖峰的 CPU 密集型工作负载通常可以在客户自己的设备上以大折扣运行。

Puppet 最近的一篇博客文章详细说明了为什么一些组织选择将一些工作负载从公有云中转移出去。成本仍然是主要的驱动因素，组织在计算、存储和数据传输方面的成本都在增加。安全性和合规性也是一个重要因素，一些组织选择将工作负载遣返，以避免不得不回答有关数据存储位置、访问控制和跨多个云环境的监管合规性的复杂问题。

![]()https://static001.geekbang.org/wechat/images/a0/a0995201c057a2567a342dae3530ab0f.png![]()

图片由 Puppet 提供

Puppet 还解释了性能限制如何促使一些公司避免使用公有云，特别是对于需要低延迟的工作负载。此外，一些组织担心供应商锁定的风险，不想依赖特定的供应商来满足他们的软件、平台或基础设施需求。

Puppet 文章还提出了公有云特有的技术挑战，例如意外配置错误可能会造成严重后果（引用了 2022 年的一次事件，其中一个 AWS S3 存储桶的错误配置暴露了数百万个敏感文件）。

尽管拥有一批可重新利用的返还服务器具有显著优势，但 Yellowbrick 私有云实施的成功增加了越来越多的证据，表明一些公司，特别是那些具有可预测的计算密集型工作负载的公司，可能会从评估公有云服务的替代方案中受益。

作者介绍

**Matt Saunders** 是 Adaptavist 的首席技术官 DevOps 负责人。帮助团队使用 DevOps、平台工程和云原生工具和技术，，以快速、高效且压力最小的方式交付可靠、高质量的软件。他曾与复杂的企业、小型初创企业、中小企业以及介于两者之间的所有企业合作过。还联合组织了伦敦 DevOps 聚会小组，该小组拥有 10000 多名成员，每月举办一次非常受欢迎的行业活动。

**原文链接：**

[infoq](https://www.infoq.cn/article/LrZKUtjfipSM0SxPhuMX)
